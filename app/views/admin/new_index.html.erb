
<div id="wrapper" class="xh-index collapsed">

  <!-- Sidebar -->
  <div id="sidebar-wrapper">
    <ul class="sidebar-nav">
      <li class="sidebar-brand">
        <a href="#">
          Shawn Han
        </a>
      </li>
      <li>
        <a href="#div-skills-tree" class="ah-sidebar-item">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </a>
      </li>
      <span class="vertical-line"></span>
      <li>
        <a href="#div-projects" class="ah-sidebar-item">
          <i class="fa fa-diamond" aria-hidden="true"></i>
        </a>
      </li>
      <span class="vertical-line"></span>
      <li>
        <div class="ah-sidebar-list">
          
        
          <a href="#" class="ah-sidebar-rlist-btn ah-sidebar-item">
            <i class="fa fa-graduation-cap" aria-hidden="true"></i>
          </a>  
          <div class="ah-sidebar-rlist">
            <span class="horizontal-line"></span>
            <span class="horizontal-line"></span>
            <span class="horizontal-line"></span>
            <a href="#carousel-wpi" class="ah-sidebar-item">
              <!-- <i class="fa fa-graduation-cap" aria-hidden="true"></i> -->
              WPI
            </a>
            <span class="horizontal-line"></span>
            <a href="#carousel-tju" class="ah-sidebar-item">
              TJU
              <!-- <i class="fa fa-graduation-cap" aria-hidden="true"></i> -->
            </a>
          </div>
        </div>
      </li>
      <span class="vertical-line"></span>
      <li>
        <a href="#" class="ah-sidebar-item">
          <i class="fa fa-facebook-official" aria-hidden="true"></i>
        </a>
      </li>
    </ul>
  </div>
  <!-- /#sidebar-wrapper -->
  <!-- Page Content -->


  <div id="page-content-wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <nav class="navbar navbar-fixed-top navbar-fixed-with-siderbar">
            <a href="#menu-toggle" class="" id="menu-toggle"><span class="glyphicon glyphicon-th-list"></span></a>
          </nav>
        </div>
      </div> 
    </div>

    <div class="jumbotron fixed-topbar-bot">
      <div class="container">
        <div class="text-center">
          <h1>Hello, world!</h1>
          <p>
            I am Xu, a new grad. 
          </p> 
        </div>
      </div>
    </div>

    <div class="container-fluid" id="div-skills-tree">
      <div class="row">
        <div class="jumbotron text-center">
          <h2>Skills tree</h2>
        </div>
      </div>
      <div id="xh-skills-tree"></div>
      
    </div>

    
    <div class="container-fluid" id="div-projects">
      
      p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>
      p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>p<br>
    </div>


    <div class="container-fluid" id="div-edu">
      
      
      <div id="carousel-wpi" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#carousel-wpi" data-slide-to="0" class="active"></li>
          <li data-target="#carousel-wpi" data-slide-to="1"></li>
          <li data-target="#carousel-wpi" data-slide-to="2"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
          <div class="item active">
            <img class="full-width-img" src="images/plaza.jpg" alt="...">
            <div class="carousel-caption">
              <h1>WPI Campus</h1>
              <p>
                Some funny guys practice tightrope walking near this plaza. :)
              </p>
            </div>
          </div>

          <div class="item">
            <img class="full-width-img" src="images/way-to-apt.jpg" alt="...">
            <div class="carousel-caption">
              <h1>Institute Park</h1>
              <p>
                The way from campus to my apartment.
              </p>
            </div>

          </div>


          <div class="item">
            <img class="full-width-img" src="images/wpi-grad.jpg" alt="...">
            <div class="carousel-caption">
              <h1>Graduation from WPI</h1>
              <p>
                My friends and I (right).
              </p>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-wpi" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-wpi" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div class="row">
        <div class="jumbotron">

          <h2>Worcester Polytechnic Institute (WPI)</h2>
          <p>
            MS, Electrical and Computer Engineering.
          </p>
        </div>
      </div>



      <div id="carousel-tju" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#carousel-tju" data-slide-to="0" class="active"></li>
          <li data-target="#carousel-tju" data-slide-to="1"></li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
          <div class="item active">
            <img class="full-width-img" src="images/haitang.jpg">
            <div class="carousel-caption">
              <h1>Tianjin University</h1>
              <p>
                Spring flowers blossom in the campus.
              </p>
            </div>
          </div>

          <div class="item">
            <img class="full-width-img" src="images/peiyang.jpg" alt="...">
            <div class="carousel-caption">
              <h1>Graduation</h1>
              <p>
                My roomates and I took the photo in front of the Landmark for the Peiyang Uniersity (old name for TJU).
              </p>
            </div>
          </div>
        </div>

        <!-- Controls -->
        <a class="left carousel-control" href="#carousel-tju" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#carousel-tju" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div class="row">
        <div class="jumbotron">

          <h2>Tianjin University (TJU)</h2>
          <p>
            BEng, Electrical Engineering.
          </p>
        </div>
      </div>


    </div>
  </div>
  <!-- /#page-content-wrapper -->
</div>

<style type="text/css">

  #menu-toggle{
    font-size: 20px;
    /*color: lighten(#000, 46.7%); // #777*/
    color: #777;
  }

  .xh-index .fixed-topbar-bot{
    margin-top: 60px;
  }

  .xh-index .jumbotron{
    background-color: transparent;
  }
  .xh-index p{
    font-family: 'Varela Round', sans-serif;
  }

  #div-edu img.full-width-img{
    display: block;
    width: 100%;
    height: auto;

    opacity: 0.8;
    filter: alpha(opacity=80); /* For IE8 and earlier */
  }


  #xh-skills-tree .node circle {
    fill: #fff;
    stroke: steelblue;
    stroke-width: 1.5px;
  }

  #xh-skills-tree .node {
    font-family: 'Source Sans Pro', sans-serif;
    font-size: 15px;
  }

  #xh-skills-tree .link {
    fill: none;
    stroke: #ccc;
    stroke-width: 1.5px;
  }


  .vertical-line {
    display: block;
    /*background-color: #f2f2f2;*/
    background-color: #ff3333;
    background-color: #6666ff;

    width: 2px;
    height: 20px;
    margin: 0 auto;
    /*margin-left: 22px;*/
  }


  .horizontal-line {

    /*position: relative;*/
    display: inline-block;

    /*background-color: #f2f2f2;*/
    background-color: #ff3333;
    background-color: #6666ff;

    width: 20px;
    height: 2px;

    margin: 0 auto;

    position: relative;
    /*top: -10%;*/
    top: -6px;
  }


  

</style>
<script type="text/javascript">
 //  var setTimeoutConst;
	// $('#menu-toggle').hover(function(e){

	// 	setTimeoutConst = setTimeout(function(){
 //      $('#wrapper').toggleClass('collapsed');
 //    }, 100);		
	// }, function(e){
 //    clearTimeout(setTimeoutConst);
 //  });

	$('#menu-toggle').on('click', function(e){
		$('#wrapper').toggleClass('collapsed');
	})

  // $(window).scroll(function(e){
  //   console.log(e);
  // });

  $(document).on('click', 'a[href^="#"]', function(e) {
    // target element id
    var id = $(this).attr('href');

    // target element
    var $id = $(id);

    // prevent standard hash navigation (avoid blinking in IE)
    e.preventDefault();

    // var animate_options = {duration: 800, easing: 'easeOutSine'};

    var pos = 0;

    if ($id.length !== 0) {

      // top position relative to the document
      pos = $(id).offset().top - 60;
    }

    var diff = Math.abs(pos - $(document).scrollTop());

    console.log(diff);
    // animated top scrolling
    $('body, html').animate({scrollTop: pos}, { duration: diff, easing: 'easeInOutCubic'});
 
  });


  $('.ah-ah-sidebar-item').on('mouseenter', function(e){
    console.log(this);
  });


















  $(document).ready(function(){

    build_tags_tree();
  });


  function build_tags_tree(){

    var device_width = (window.innerWidth > 0) ? window.innerWidth : screen.width;

    var width = device_width,
      height = 700;

    if(device_width < width) {
      width = device_width,
      height = device_width;
    }

    var cluster = d3.layout.tree()
        .size([width - 200, height - 200]);

    var diagonal = d3.svg.diagonal()
        .projection(function(d) { return [d.x, d.y]; });

    var svg = d3.select("#xh-skills-tree").append("svg")
        .attr("width", width)
        .attr("height", height)
      .append("g")
        .attr("transform", "translate(50,20)");

 
    var nodes = cluster.nodes(skills),
        links = cluster.links(nodes);

    var link = svg.selectAll(".link")
        .data(links)
      .enter().append("path")
        .attr("class", "link")
        .attr("d", diagonal);

    var node = svg.selectAll(".node")
        .data(nodes)
      .enter().append("g")
        .attr("class", "node")
        .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

    node.append("circle")
        .attr("r", 4.5);

    node.append("text")
        .attr("dx", function(d) { return d.children ? -8 : 0; })
        .attr("dy", function(d) { return d.children ? 3 : 20; })
        .style("text-anchor", function(d) { return d.children ? "end" : "start"; })
        .text(function(d) { return d.name; });

    d3.select(self.frameElement).style("height", height + "px");


    
  }




  var skills = {
    name: "Xu Han (Shawn)",
    children: [
      { name: "programming language",
        children: [
          { name: "java" },
          { name: "python" },
          { name: "ruby" },
          { name: "c++"}
        ]
      },
      { name: "web application development",
        children: [

          { name: "rails" },
          { name: "bootstrap" },
          { name: "jQuery" },
          { name: "d3.js" },
          { name: "HTML 5" },
          { name: "CSS 3" },
          { name: "javascript"}
        ]
      },
      { name: "mobile application development",
        children: [
          { name: "iOS"},
          { name: "Android"}
        ]
      }

    ]
  };



  
</script>




